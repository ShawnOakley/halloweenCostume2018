<!DOCTYPE html>
<!-- animation__waveone="property: rotation; delay: 75 dur: 2000; fill: forward; from: 0 0 0; to:  -30 0 0; autoplay: true; repeat: indefinite" -->
<!-- animation__wavetwo="property: rotation; delay: 2075; dur: 2000; fill: forward; from: -30 0 0 ; to: 30 0 0 ;  autoplay: true; repeat: indefinite" -->

<html>
  <head>
    <meta charset="utf-8">
    <title>The Chestburster</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script type="application/javascript" src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <script type="application/javascript" src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.min.js"></script>
    <script type="application/javascript" src="https://rawgit.com/ngokevin/kframe/master/components/animation/dist/aframe-animation-component.min.js"></script>
    <script type="application/javascript" src="https://rawgit.com/jeromeetienne/AR.js/57431cb6b7529fa5acb95d9adb89ad82ba7a768a/aframe/build/aframe-ar.js"></script>
    <script type="application/javascript" src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
    <script type="text/javascript" src='src/threex-portal-door.js'></script>
    <script type="text/javascript" src='src/aframe-portal-door.js'></script>

  </head>
  <body>
    <a-scene embedded arjs='sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'>
      <a-assets>
        <a-asset-item
          src="./objects/AlienInsect_Blend2.gltf"
          id="worm-obj"
        />
        <img id='marker' src='./images/zombieMarker.png' />
        <img id='meat' src='./images/fleshwall.jpg'/>
        <img id="bone" src="./images/bones_texture.jpg">
      </a-assets>

      <a-marker preset="hiro">
        <a-cone color="red" visible="false" height='0.5' rotation='0 0 35' src='#bone' position="0.3 0 0.65"  radius-bottom="0.1" radius-top="0.000001">
          <a-animation attribute="visible" begin="10000" to="true"></a-animation>
        </a-cone>
        <a-cone color="red" visible="false" height='0.5' rotation='0 0 -35' src='#bone' position="-0.3 0 0.65"  radius-bottom="0.1" radius-top="0.000001">
          <a-animation attribute="visible" begin="10000" to="true"></a-animation>
        </a-cone>
        <a-cone color="red" visible="false" height='0.5' rotation='0 0 35' src='#bone' position="0.3 0 0"  radius-bottom="0.1" radius-top="0.000001">
          <a-animation attribute="visible" begin="10000" to="true"></a-animation>
        </a-cone>
        <a-cone color="red" visible="false" height='0.5' rotation='0 0 -35' src='#bone' position="-0.3 0 0"  radius-bottom="0.1" radius-top="0.000001">
          <a-animation attribute="visible" begin="10000" to="true"></a-animation>
        </a-cone>
        <a-cone color="red" visible="false" height='0.5' rotation='0 0 35' src='#bone' position="0.3 0 -0.65"  radius-bottom="0.1" radius-top="0.000001">
          <a-animation attribute="visible" begin="10000" to="true"></a-animation>
        </a-cone>
        <a-cone color="red" visible="false" height='0.5' rotation='0 0 -35' src='#bone' position="-0.3 0 -0.65"  radius-bottom="0.1" radius-top="0.000001">
          <a-animation attribute="visible" begin="10000" to="true"></a-animation>
        </a-cone>

        <a-entity position="0 -0.5 0" visible="false" particle-system="randomize: true; type: 3; accelerationSpread: 0 0 0; accelerationValue: 10 -8 0; size: 0.66; opacity: 0.75; blending: 1; rotationAngle: 45;rotationAxis: z; color: #EF0000,#44CC00; texture: ./images/fleshwall.jpg; velocityValue: 0 0 5;">
          <a-animation attribute="visible" begin="10000" to="true"></a-animation>
        </a-entity>
        <a-entity position="0 0 1" visible="true" particle-system="randomize: true; type: 3; accelerationSpread: 0 0 0; accelerationValue: 10 -8 0; size: 0.66; opacity: 0.75; blending: 1; rotationAngle: 45;rotationAxis: z; color: #EF0000,#44CC00; texture: ./images/fleshwall.jpg; velocityValue: 0 0 5;">
          <a-animation attribute="visible" begin="10000" to="true"></a-animation>
        </a-entity>
        <a-entity position="0 0.5 0" visible="false" particle-system="randomize: true; type: 3; accelerationSpread: 0 0 0; accelerationValue: 10 -8 0; size: 0.66; opacity: 0.75; blending: 1; rotationAngle: 45;rotationAxis: z; color: #EF0000,#44CC00; texture: ./images/fleshwall.jpg; velocityValue: 0 0 5;">
          <a-animation attribute="visible" begin="10000" to="true"></a-animation>
        </a-entity>
        <a-entity position="1 -1 0" visible="false" particle-system="randomize: true; type: 3; accelerationSpread: 0 0 0; accelerationValue: 10 -8 0; size: 0.66; opacity: 0.75; blending: 1; rotationAngle: 45;rotationAxis: z; color: #EF0000,#44CC00; texture: ./images/fleshwall.jpg; velocityValue: 0 0 5;">
          <a-animation attribute="visible" begin="10000" to="true"></a-animation>
        </a-entity>


        <a-sphere
          position="0 -0.25 0.75"
          radius='2'
          scale='0.4 0.4 0.4'
          color='#355e3b'>
          <a-animation
            attribute="radius"
            from="0.75"
            to="1.15"
            dur="2000"
            autoplay="true"
            repeat="5"
            direction="alternate"
            easing="ease-in-out-cubic"
          ></a-animation>
          <a-animation attribute="visible" begin="10000" to="false"></a-animation>
        </a-sphere>

        <a-sphere
          position="0 -0.25 -0.75"
          radius='1.5'
          scale='0.4 0.4 0.4'
          color='#355e3b '>
          <a-animation
            attribute="radius"
            from="0.75"
            to="1.15"
            dur="2000"
            autoplay="true"
            repeat="4"
            direction="alternate"
            easing="ease-in-out-cubic"
          ></a-animation>
          <a-animation attribute="visible" begin="10000" to="false"></a-animation>
        </a-sphere>

        <a-curvedimage
        src='./images/zombieMarker.png'
        height='4'
        width='4'
        rotation= '-190 90 -90'
        radius='3'
        scale='0.4 0.4 0.4'
        position="0 -0.25 0"
        theta-length='200'
        >
          <a-animation
            attribute="radius"
            dur="2000"
            from="0.75"
            to="1.1"
            autoplay="true"
            repeat="5"
            direction="alternate"
            easing="ease-in-out-cubic"
          >
          </a-animation>
          <a-animation attribute="visible" begin="10000" to="false"></a-animation>
        </a-curvedimage>

      <a-image
      src='./images/zombieMarker.png'
      width='4'
      height='4'
      rotation= '-90 0 0'
      scale='0.4 0.4 0.4'
      position="0 0 0"
      >
        <a-animation attribute="visible" begin="10000" to="false"></a-animation>
      </a-image>

      <a-portal-door
        id='door'
        url='images/fleshwall.jpg'
        position="0 0 1"
        rotation= '-90 0 0'
        scale='1 1 1'
        visible='false'
      >
      <a-animation attribute="visible" begin="10000" to="true"></a-animation>
      </a-portal-door>
      <a-entity
      position="0 0 0"
      rotation="0 0 0"
      animation-mixer="clip:*;"
      gltf-model="#worm-obj"
      visible="false"
      >
      <a-animation attribute="visible" begin="10500" to="true"></a-animation>
      <a-animation
        attribute="position"
        from="0 -2 0"
        to="0 0 0"
        dur="2000"
        autoplay="true"
        repeat="0"
        easing="ease-out"
        begin="10500"
      ></a-animation>
      <a-animation
        attribute="rotation"
        from="0 0 0"
        to="-60 0 0"
        dur="1500"
        autoplay="true"
        repeat="0"
        easing="ease-out"
        begin="12500"
      ></a-animation>
      </a-entity>
    </a-marker>

    </a-marker>
    <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
